import{_ as l,c as i,b as n,d as t,w as p,e as a,a as o,r as c,o as r}from"./app-Bep3kb_1.js";const u={};function d(k,s){const e=c("RouteLink");return r(),i("div",null,[n("p",null,[t(e,{to:"/doc/browser/"},{default:p(()=>[...s[0]||(s[0]=[a("Documents",-1)])]),_:1}),s[2]||(s[2]=a(" / ",-1)),t(e,{to:"/doc/browser/"},{default:p(()=>[...s[1]||(s[1]=[a("@faasjs/browser",-1)])]),_:1}),s[3]||(s[3]=a(" / FaasBrowserClient",-1))]),s[37]||(s[37]=o(`<h1 id="class-faasbrowserclient" tabindex="-1"><a class="header-anchor" href="#class-faasbrowserclient"><span>Class: FaasBrowserClient</span></a></h1><p>Browser client for FaasJS - provides HTTP client functionality for making API requests from web applications.</p><h2 id="template" tabindex="-1"><a class="header-anchor" href="#template"><span>Template</span></a></h2><p>Type parameter extending FaasActionUnionType for type-safe requests</p><p>Features:</p><ul><li>Type-safe API requests with TypeScript support</li><li>Built-in mock support for testing</li><li>Custom request function support</li><li>Request/response hooks (beforeRequest)</li><li>Automatic error handling with ResponseError</li><li>Streaming support for large responses</li><li>Multiple instance support with unique IDs</li></ul><h2 id="remarks" tabindex="-1"><a class="header-anchor" href="#remarks"><span>Remarks</span></a></h2><ul><li>All requests are POST requests by default</li><li>Automatically adds X-FaasJS-Request-Id header for request tracking</li><li>baseUrl must end with &#39;/&#39; (will throw Error if not)</li><li>Supports global mock via setMock() for testing all instances</li></ul><h2 id="examples" tabindex="-1"><a class="header-anchor" href="#examples"><span>Examples</span></a></h2><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> FaasBrowserClient <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@faasjs/browser&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FaasBrowserClient</span><span class="token punctuation">(</span><span class="token string">&#39;http://localhost:8080/&#39;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">action</span><span class="token punctuation">(</span><span class="token string">&#39;func&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> key<span class="token operator">:</span> <span class="token string">&#39;value&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FaasBrowserClient</span><span class="token punctuation">(</span><span class="token string">&#39;https://api.example.com/&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">  headers<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&#39;X-API-Key&#39;</span><span class="token operator">:</span> <span class="token string">&#39;secret&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token function-variable function">beforeRequest</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> action<span class="token punctuation">,</span> params<span class="token punctuation">,</span> headers <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Calling </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>action<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> with params:</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span> params<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">const</span> apiClient <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FaasBrowserClient</span><span class="token punctuation">(</span><span class="token string">&#39;https://api.example.com/&#39;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">const</span> localClient <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FaasBrowserClient</span><span class="token punctuation">(</span><span class="token string">&#39;http://localhost:3000/&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> apiData <span class="token operator">=</span> <span class="token keyword">await</span> apiClient<span class="token punctuation">.</span><span class="token function">action</span><span class="token punctuation">(</span><span class="token string">&#39;users&#39;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">const</span> localData <span class="token operator">=</span> <span class="token keyword">await</span> localClient<span class="token punctuation">.</span><span class="token function">action</span><span class="token punctuation">(</span><span class="token string">&#39;data&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FaasBrowserClient</span><span class="token punctuation">(</span><span class="token string">&#39;https://api.example.com/&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">action</span><span class="token punctuation">(</span><span class="token string">&#39;user&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">123</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>error <span class="token keyword">instanceof</span> <span class="token class-name">ResponseError</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Request failed: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>error<span class="token punctuation">.</span>message<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span> error<span class="token punctuation">.</span>status<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#39;Unexpected error:&#39;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="throws" tabindex="-1"><a class="header-anchor" href="#throws"><span>Throws</span></a></h2><p>When baseUrl does not end with &#39;/&#39;</p><h2 id="see" tabindex="-1"><a class="header-anchor" href="#see"><span>See</span></a></h2><ul><li>setMock for testing support</li><li>ResponseError for error handling</li></ul><h2 id="constructors" tabindex="-1"><a class="header-anchor" href="#constructors"><span>Constructors</span></a></h2><h3 id="constructor" tabindex="-1"><a class="header-anchor" href="#constructor"><span>Constructor</span></a></h3><blockquote><p><strong>new FaasBrowserClient</strong>(<code>baseUrl?</code>, <code>options?</code>): <code>FaasBrowserClient</code></p></blockquote><p>Creates a new FaasBrowserClient instance.</p><h4 id="parameters" tabindex="-1"><a class="header-anchor" href="#parameters"><span>Parameters</span></a></h4><h5 id="baseurl" tabindex="-1"><a class="header-anchor" href="#baseurl"><span>baseUrl?</span></a></h5><p><code>\`\${string}/\`</code> = <code>&#39;/&#39;</code></p><p>Base URL for all API requests. Must end with &#39;/&#39;. Defaults to &#39;/&#39; for relative requests.</p><h5 id="options" tabindex="-1"><a class="header-anchor" href="#options"><span>options?</span></a></h5>`,26)),n("p",null,[t(e,{to:"/doc/browser/type-aliases/Options.html"},{default:p(()=>[...s[4]||(s[4]=[n("code",null,"Options",-1)])]),_:1}),s[5]||(s[5]=a(" = ",-1)),s[6]||(s[6]=n("code",null,"...",-1))]),s[38]||(s[38]=o(`<p>Configuration options for the client</p><h4 id="returns" tabindex="-1"><a class="header-anchor" href="#returns"><span>Returns</span></a></h4><p><code>FaasBrowserClient</code></p><h4 id="throws-1" tabindex="-1"><a class="header-anchor" href="#throws-1"><span>Throws</span></a></h4><p>If baseUrl does not end with &#39;/&#39;</p><h4 id="examples-1" tabindex="-1"><a class="header-anchor" href="#examples-1"><span>Examples</span></a></h4><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FaasBrowserClient</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FaasBrowserClient</span><span class="token punctuation">(</span><span class="token string">&#39;https://api.example.com/&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FaasBrowserClient</span><span class="token punctuation">(</span><span class="token string">&#39;https://api.example.com/&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">  headers<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token string-property property">&#39;Authorization&#39;</span><span class="token operator">:</span> <span class="token string">&#39;Bearer token123&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-property property">&#39;X-Custom-Header&#39;</span><span class="token operator">:</span> <span class="token string">&#39;value&#39;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FaasBrowserClient</span><span class="token punctuation">(</span><span class="token string">&#39;https://api.example.com/&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function-variable function">beforeRequest</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> action<span class="token punctuation">,</span> params<span class="token punctuation">,</span> headers <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Requesting </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>action<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span> params<span class="token punctuation">)</span></span>
<span class="line">    <span class="token comment">// Modify headers before request</span></span>
<span class="line">    headers<span class="token punctuation">[</span><span class="token string">&#39;X-Timestamp&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">&#39;axios&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FaasBrowserClient</span><span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function-variable function">request</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>url<span class="token punctuation">,</span> options<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> options<span class="token punctuation">.</span>body<span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">      headers<span class="token operator">:</span> options<span class="token punctuation">.</span>headers</span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Response</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">      status<span class="token operator">:</span> response<span class="token punctuation">.</span>status<span class="token punctuation">,</span></span>
<span class="line">      headers<span class="token operator">:</span> response<span class="token punctuation">.</span>headers<span class="token punctuation">,</span></span>
<span class="line">      data<span class="token operator">:</span> response<span class="token punctuation">.</span>data</span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="throws-2" tabindex="-1"><a class="header-anchor" href="#throws-2"><span>Throws</span></a></h4><p>When baseUrl does not end with &#39;/&#39;</p><h2 id="methods" tabindex="-1"><a class="header-anchor" href="#methods"><span>Methods</span></a></h2><h3 id="action" tabindex="-1"><a class="header-anchor" href="#action"><span>action()</span></a></h3>`,15)),n("blockquote",null,[n("p",null,[s[8]||(s[8]=n("strong",null,"action",-1)),s[9]||(s[9]=a("<",-1)),s[10]||(s[10]=n("code",null,"PathOrData",-1)),s[11]||(s[11]=a(">(",-1)),s[12]||(s[12]=n("code",null,"action",-1)),s[13]||(s[13]=a(", ",-1)),s[14]||(s[14]=n("code",null,"params?",-1)),s[15]||(s[15]=a(", ",-1)),s[16]||(s[16]=n("code",null,"options?",-1)),s[17]||(s[17]=a("): ",-1)),s[18]||(s[18]=n("code",null,"Promise",-1)),s[19]||(s[19]=a("<",-1)),t(e,{to:"/doc/browser/classes/Response.html"},{default:p(()=>[...s[7]||(s[7]=[n("code",null,"Response",-1)])]),_:1}),s[20]||(s[20]=a("<",-1)),s[21]||(s[21]=n("code",null,"FaasData",-1)),s[22]||(s[22]=a("<",-1)),s[23]||(s[23]=n("code",null,"PathOrData",-1)),s[24]||(s[24]=a(">>>",-1))])]),s[39]||(s[39]=o('<p>Makes a request to a FaasJS function.</p><h4 id="type-parameters" tabindex="-1"><a class="header-anchor" href="#type-parameters"><span>Type Parameters</span></a></h4><h5 id="pathordata" tabindex="-1"><a class="header-anchor" href="#pathordata"><span>PathOrData</span></a></h5><p><code>PathOrData</code> <em>extends</em> <code>FaasActionUnionType</code></p><p>The function path or data type for type safety</p><h4 id="parameters-1" tabindex="-1"><a class="header-anchor" href="#parameters-1"><span>Parameters</span></a></h4><h5 id="action-1" tabindex="-1"><a class="header-anchor" href="#action-1"><span>action</span></a></h5><p><code>FaasAction</code>&lt;<code>PathOrData</code>&gt;</p><p>The function path to call. Converted to lowercase when constructing the URL. Must be a non-empty string.</p><h5 id="params" tabindex="-1"><a class="header-anchor" href="#params"><span>params?</span></a></h5><p><code>FaasParams</code>&lt;<code>PathOrData</code>&gt;</p><p>The parameters to send to the function. Will be serialized as JSON. Optional if the function accepts no parameters.</p><h5 id="options-1" tabindex="-1"><a class="header-anchor" href="#options-1"><span>options?</span></a></h5>',13)),n("p",null,[t(e,{to:"/doc/browser/type-aliases/Options.html"},{default:p(()=>[...s[25]||(s[25]=[n("code",null,"Options",-1)])]),_:1})]),s[40]||(s[40]=n("p",null,"Optional request options that override client defaults. Supports headers, beforeRequest hook, custom request function, baseUrl override, and streaming mode.",-1)),s[41]||(s[41]=n("h4",{id:"returns-1",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#returns-1"},[n("span",null,"Returns")])],-1)),n("p",null,[s[27]||(s[27]=n("code",null,"Promise",-1)),s[28]||(s[28]=a("<",-1)),t(e,{to:"/doc/browser/classes/Response.html"},{default:p(()=>[...s[26]||(s[26]=[n("code",null,"Response",-1)])]),_:1}),s[29]||(s[29]=a("<",-1)),s[30]||(s[30]=n("code",null,"FaasData",-1)),s[31]||(s[31]=a("<",-1)),s[32]||(s[32]=n("code",null,"PathOrData",-1)),s[33]||(s[33]=a(">>>",-1))]),s[42]||(s[42]=o(`<p>A Promise that resolves to a Response object containing status, headers, body, and data. The data property is typed based on the PathOrData generic parameter.</p><h4 id="throws-3" tabindex="-1"><a class="header-anchor" href="#throws-3"><span>Throws</span></a></h4><p>When action is not provided or is empty</p><h4 id="throws-4" tabindex="-1"><a class="header-anchor" href="#throws-4"><span>Throws</span></a></h4><p>When the server returns an error response (status &gt;= 400 or body.error exists)</p><h4 id="throws-5" tabindex="-1"><a class="header-anchor" href="#throws-5"><span>Throws</span></a></h4><p>When network request fails</p><h4 id="remarks-1" tabindex="-1"><a class="header-anchor" href="#remarks-1"><span>Remarks</span></a></h4><ul><li>All requests are POST requests by default</li><li>Action path is automatically converted to lowercase</li><li>A unique request ID is generated for each request and sent in X-FaasJS-Request-Id header</li><li>Headers are merged from client defaults and request options (request options take precedence)</li><li>If a global mock is set via setMock(), it will be used instead of making real requests</li><li>If a custom request function is provided in options, it will be used instead of fetch</li><li>When stream option is true, returns the native fetch Response instead of a wrapped Response</li><li>Response body is automatically parsed as JSON when possible</li><li>Server errors (body.error) are automatically converted to ResponseError</li></ul><h4 id="examples-2" tabindex="-1"><a class="header-anchor" href="#examples-2"><span>Examples</span></a></h4><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">action</span><span class="token punctuation">(</span><span class="token string">&#39;user&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">123</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">action</span><span class="token punctuation">(</span><span class="token string">&#39;status&#39;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>status<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">action</span><span class="token punctuation">(</span><span class="token string">&#39;data&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">  limit<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span></span>
<span class="line">  offset<span class="token operator">:</span> <span class="token number">0</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">  headers<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&#39;X-Custom-Header&#39;</span><span class="token operator">:</span> <span class="token string">&#39;value&#39;</span> <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">action</span><span class="token punctuation">(</span><span class="token string">&#39;stream&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">  format<span class="token operator">:</span> <span class="token string">&#39;json&#39;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">  stream<span class="token operator">:</span> <span class="token boolean">true</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment">// response is native fetch Response with streaming support</span></span>
<span class="line"><span class="token keyword">const</span> reader <span class="token operator">=</span> response<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">getReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">interface</span> <span class="token class-name">UserData</span> <span class="token punctuation">{</span></span>
<span class="line">  id<span class="token operator">:</span> <span class="token builtin">number</span></span>
<span class="line">  name<span class="token operator">:</span> <span class="token builtin">string</span></span>
<span class="line">  email<span class="token operator">:</span> <span class="token builtin">string</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">action</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token punctuation">{</span></span>
<span class="line">  action<span class="token operator">:</span> <span class="token string">&#39;user&#39;</span></span>
<span class="line">  params<span class="token operator">:</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span></span>
<span class="line">  data<span class="token operator">:</span> UserData</span>
<span class="line"><span class="token punctuation">}</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&#39;user&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">123</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// TypeScript knows it&#39;s a string</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">action</span><span class="token punctuation">(</span><span class="token string">&#39;user&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">123</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>error <span class="token keyword">instanceof</span> <span class="token class-name">ResponseError</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Server error: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>error<span class="token punctuation">.</span>message<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span> error<span class="token punctuation">.</span>status<span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>data<span class="token punctuation">)</span> <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#39;Error details:&#39;</span><span class="token punctuation">,</span> error<span class="token punctuation">.</span>data<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#39;Network error:&#39;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">const</span> userId <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">action</span><span class="token punctuation">(</span><span class="token string">&#39;createUser&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">  name<span class="token operator">:</span> <span class="token string">&#39;John&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  email<span class="token operator">:</span> <span class="token string">&#39;john@example.com&#39;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> profile <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">action</span><span class="token punctuation">(</span><span class="token string">&#39;getProfile&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">  userId<span class="token operator">:</span> userId<span class="token punctuation">.</span>data<span class="token punctuation">.</span>id</span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="properties" tabindex="-1"><a class="header-anchor" href="#properties"><span>Properties</span></a></h2><h3 id="baseurl-1" tabindex="-1"><a class="header-anchor" href="#baseurl-1"><span>baseUrl</span></a></h3><blockquote><p><strong>baseUrl</strong>: <code>\`\${string}/\`</code></p></blockquote><h3 id="defaultoptions" tabindex="-1"><a class="header-anchor" href="#defaultoptions"><span>defaultOptions</span></a></h3>`,21)),n("blockquote",null,[n("p",null,[s[35]||(s[35]=n("strong",null,"defaultOptions",-1)),s[36]||(s[36]=a(": ",-1)),t(e,{to:"/doc/browser/type-aliases/Options.html"},{default:p(()=>[...s[34]||(s[34]=[n("code",null,"Options",-1)])]),_:1})])]),s[43]||(s[43]=n("h3",{id:"id",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#id"},[n("span",null,"id")])],-1)),s[44]||(s[44]=n("blockquote",null,[n("p",null,[n("code",null,"readonly"),a(),n("strong",null,"id"),a(": "),n("code",null,"string")])],-1))])}const v=l(u,[["render",d]]),b=JSON.parse('{"path":"/doc/browser/classes/FaasBrowserClient.html","title":"Class: FaasBrowserClient","lang":"en","frontmatter":{},"git":{},"filePathRelative":"doc/browser/classes/FaasBrowserClient.md"}');export{v as comp,b as data};
