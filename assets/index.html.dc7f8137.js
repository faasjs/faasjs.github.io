import{_ as e,r as o,o as l,c as i,b as n,d as a,e as t,a as d}from"./app.64311969.js";const c={},r=n("h1",{id:"faasjs-ts-transform",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#faasjs-ts-transform","aria-hidden":"true"},"#"),t(" @faasjs/ts-transform")],-1),p={href:"https://github.com/faasjs/faasjs/blob/main/packages/faasjs/ts-transform/LICENSE",target:"_blank",rel:"noopener noreferrer"},u=n("img",{src:"https://img.shields.io/npm/l/@faasjs/ts-transform.svg",alt:"License: MIT"},null,-1),h={href:"https://www.npmjs.com/package/@faasjs/ts-transform",target:"_blank",rel:"noopener noreferrer"},f=n("img",{src:"https://img.shields.io/npm/v/@faasjs/ts-transform/stable.svg",alt:"NPM Stable Version"},null,-1),k={href:"https://www.npmjs.com/package/@faasjs/ts-transform",target:"_blank",rel:"noopener noreferrer"},m=n("img",{src:"https://img.shields.io/npm/v/@faasjs/ts-transform/beta.svg",alt:"NPM Beta Version"},null,-1),g={href:"https://swc.rs/",target:"_blank",rel:"noopener noreferrer"},b=d(`<h2 id="install" tabindex="-1"><a class="header-anchor" href="#install" aria-hidden="true">#</a> Install</h2><pre><code>npm install @faasjs/ts-transform
</code></pre><h2 id="usage" tabindex="-1"><a class="header-anchor" href="#usage" aria-hidden="true">#</a> Usage</h2><h3 id="use-as-a-register" tabindex="-1"><a class="header-anchor" href="#use-as-a-register" aria-hidden="true">#</a> Use as a register</h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> addHook <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;pirates&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> transform <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@faasjs/ts-transform&#39;</span>

<span class="token function">addHook</span><span class="token punctuation">(</span><span class="token punctuation">(</span>code<span class="token punctuation">,</span> filename<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>filename<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">&#39;.d.ts&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token string">&#39;&#39;</span>

  <span class="token keyword">return</span> <span class="token function">transform</span><span class="token punctuation">(</span>code<span class="token punctuation">,</span> <span class="token punctuation">{</span> filename <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>code
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  exts<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&#39;.jsx&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;.ts&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;.tsx&#39;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="use-as-a-rollup-plugin" tabindex="-1"><a class="header-anchor" href="#use-as-a-rollup-plugin" aria-hidden="true">#</a> Use as a rollup plugin</h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Plugin<span class="token punctuation">,</span> rollup <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;rollup&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> bundle <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@faasjs/ts-transform&#39;</span>

<span class="token keyword">function</span> <span class="token function">tsTransform</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Plugin <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&#39;tsTransform&#39;</span><span class="token punctuation">,</span>
    <span class="token keyword">async</span> <span class="token function">transform</span> <span class="token punctuation">(</span>code<span class="token punctuation">,</span> filename<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">bundle</span><span class="token punctuation">(</span><span class="token punctuation">{</span> filename <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  input<span class="token operator">:</span> <span class="token string">&#39;index.ts&#39;</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    dir<span class="token operator">:</span> <span class="token string">&#39;dist&#39;</span><span class="token punctuation">,</span>
    format<span class="token operator">:</span> <span class="token string">&#39;es&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">tsTransform</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="modules" tabindex="-1"><a class="header-anchor" href="#modules" aria-hidden="true">#</a> Modules</h2><h3 id="variables" tabindex="-1"><a class="header-anchor" href="#variables" aria-hidden="true">#</a> Variables</h3><ul><li><a href="#nodebuiltinmodules">NodeBuiltinModules</a></li></ul><h3 id="functions" tabindex="-1"><a class="header-anchor" href="#functions" aria-hidden="true">#</a> Functions</h3><ul><li><a href="#bundle">bundle</a></li><li><a href="#transform">transform</a></li></ul><h2 id="variables-1" tabindex="-1"><a class="header-anchor" href="#variables-1" aria-hidden="true">#</a> Variables</h2><h3 id="nodebuiltinmodules" tabindex="-1"><a class="header-anchor" href="#nodebuiltinmodules" aria-hidden="true">#</a> NodeBuiltinModules</h3><p>• <code>Const</code> <strong>NodeBuiltinModules</strong>: <code>string</code>[]</p><h2 id="functions-1" tabindex="-1"><a class="header-anchor" href="#functions-1" aria-hidden="true">#</a> Functions</h2><h3 id="bundle" tabindex="-1"><a class="header-anchor" href="#bundle" aria-hidden="true">#</a> bundle</h3><p>▸ <strong>bundle</strong>(<code>options</code>): <code>Promise</code>&lt;<code>Output</code>&gt;</p><h4 id="parameters" tabindex="-1"><a class="header-anchor" href="#parameters" aria-hidden="true">#</a> Parameters</h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>options</code></td><td style="text-align:left;"><code>Object</code></td><td style="text-align:left;">-</td></tr><tr><td style="text-align:left;"><code>options.externalModules?</code></td><td style="text-align:left;"><code>string</code>[]</td><td style="text-align:left;">has excluded node builtin modules</td></tr><tr><td style="text-align:left;"><code>options.filename</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;">-</td></tr><tr><td style="text-align:left;"><code>options.jscTarget?</code></td><td style="text-align:left;"><code>JscTarget</code></td><td style="text-align:left;">default: <code>es2019</code></td></tr><tr><td style="text-align:left;"><code>options.root?</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;">default: process.cwd()</td></tr></tbody></table><h4 id="returns" tabindex="-1"><a class="header-anchor" href="#returns" aria-hidden="true">#</a> Returns</h4><p><code>Promise</code>&lt;<code>Output</code>&gt;</p><hr><h3 id="transform" tabindex="-1"><a class="header-anchor" href="#transform" aria-hidden="true">#</a> transform</h3><p>▸ <strong>transform</strong>(<code>code</code>, <code>options?</code>): <code>Output</code></p><h4 id="parameters-1" tabindex="-1"><a class="header-anchor" href="#parameters-1" aria-hidden="true">#</a> Parameters</h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>code</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;">-</td></tr><tr><td style="text-align:left;"><code>options?</code></td><td style="text-align:left;"><code>Object</code></td><td style="text-align:left;">-</td></tr><tr><td style="text-align:left;"><code>options.filename?</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;">-</td></tr><tr><td style="text-align:left;"><code>options.jsc?</code></td><td style="text-align:left;"><code>JscConfig</code></td><td style="text-align:left;">swc compilation <strong><code>See</code></strong> https://swc.rs/docs/configuration/compilation</td></tr><tr><td style="text-align:left;"><code>options.root?</code></td><td style="text-align:left;"><code>string</code></td><td style="text-align:left;">default: process.cwd()</td></tr><tr><td style="text-align:left;"><code>options.target?</code></td><td style="text-align:left;"><code>JscTarget</code></td><td style="text-align:left;">default: <code>es2019</code></td></tr></tbody></table><h4 id="returns-1" tabindex="-1"><a class="header-anchor" href="#returns-1" aria-hidden="true">#</a> Returns</h4><p><code>Output</code></p>`,29);function v(x,y){const s=o("ExternalLinkIcon");return l(),i("div",null,[r,n("p",null,[n("a",p,[u,a(s)]),n("a",h,[f,a(s)]),n("a",k,[m,a(s)])]),n("p",null,[t("Typescript transform based on "),n("a",g,[t("SWC"),a(s)]),t(".")]),b])}const w=e(c,[["render",v],["__file","index.html.vue"]]);export{w as default};
