import{_ as l,c as r,b as n,d as p,w as t,e as a,a as o,r as i,o as c}from"./app-Bep3kb_1.js";const u={};function d(k,s){const e=i("RouteLink");return c(),r("div",null,[n("p",null,[p(e,{to:"/doc/react/"},{default:t(()=>[...s[0]||(s[0]=[a("Documents",-1)])]),_:1}),s[2]||(s[2]=a(" / ",-1)),p(e,{to:"/doc/react/"},{default:t(()=>[...s[1]||(s[1]=[a("@faasjs/react",-1)])]),_:1}),s[3]||(s[3]=a(" / ResponseError",-1))]),s[9]||(s[9]=o(`<h1 id="interface-responseerror" tabindex="-1"><a class="header-anchor" href="#interface-responseerror"><span>Interface: ResponseError</span></a></h1><p>Custom error class for handling HTTP response errors from FaasJS requests.</p><p>Extends the built-in Error class to provide additional information about failed requests, including HTTP status code, response headers, response body, and the original error.</p><p>ResponseError</p><h2 id="param" tabindex="-1"><a class="header-anchor" href="#param"><span>Param</span></a></h2><p>The error message, an Error object, or a ResponseErrorProps object.</p><h2 id="param-1" tabindex="-1"><a class="header-anchor" href="#param-1"><span>Param</span></a></h2><p>Additional options for the error (status, headers, body).</p><h2 id="examples" tabindex="-1"><a class="header-anchor" href="#examples"><span>Examples</span></a></h2><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ResponseError</span><span class="token punctuation">(</span><span class="token string">&#39;User not found&#39;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment">// or inside action method:</span></span>
<span class="line"><span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ResponseError</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>message<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">await</span> <span class="token function">someOperation</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ResponseError</span><span class="token punctuation">(</span>error<span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">    status<span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span></span>
<span class="line">    headers<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&#39;X-Error-Type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;internal&#39;</span> <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ResponseError</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  message<span class="token operator">:</span> <span class="token string">&#39;Validation failed&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  status<span class="token operator">:</span> <span class="token number">400</span><span class="token punctuation">,</span></span>
<span class="line">  headers<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&#39;X-Error-Code&#39;</span><span class="token operator">:</span> <span class="token string">&#39;VALIDATION_ERROR&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  body<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    error<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      message<span class="token operator">:</span> <span class="token string">&#39;Validation failed&#39;</span><span class="token punctuation">,</span></span>
<span class="line">      fields<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;email&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;password&#39;</span><span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">action</span><span class="token punctuation">(</span><span class="token string">&#39;user&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">123</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>error <span class="token keyword">instanceof</span> <span class="token class-name">ResponseError</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Request failed: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>error<span class="token punctuation">.</span>message<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Status: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>error<span class="token punctuation">.</span>status<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>body<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#39;Error details:&#39;</span><span class="token punctuation">,</span> error<span class="token punctuation">.</span>body<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">&#39;X-Request-Id&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#39;Request ID:&#39;</span><span class="token punctuation">,</span> error<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">&#39;X-Request-Id&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token function">setMock</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span>action<span class="token punctuation">,</span> params<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>action <span class="token operator">===</span> <span class="token string">&#39;login&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>params<span class="token punctuation">.</span>email <span class="token operator">||</span> <span class="token operator">!</span>params<span class="token punctuation">.</span>password<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ResponseError</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">        message<span class="token operator">:</span> <span class="token string">&#39;Email and password are required&#39;</span><span class="token punctuation">,</span></span>
<span class="line">        status<span class="token operator">:</span> <span class="token number">400</span><span class="token punctuation">,</span></span>
<span class="line">        body<span class="token operator">:</span> <span class="token punctuation">{</span> error<span class="token operator">:</span> <span class="token string">&#39;missing_fields&#39;</span> <span class="token punctuation">}</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token punctuation">{</span> data<span class="token operator">:</span> <span class="token punctuation">{</span> token<span class="token operator">:</span> <span class="token string">&#39;abc123&#39;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="remarks" tabindex="-1"><a class="header-anchor" href="#remarks"><span>Remarks</span></a></h2><ul><li>ResponseError is automatically thrown by the action method when the server returns an error (status &gt;= 400)</li><li>The error message from server responses is extracted from body.error.message if available</li><li>When created from an Error object, the original error is preserved in the originalError property</li><li>The status property defaults to 500 if not explicitly provided</li><li>Use instanceof ResponseError to distinguish FaasJS errors from other JavaScript errors</li><li>The body property can contain structured error information from the server response</li></ul><h2 id="see" tabindex="-1"><a class="header-anchor" href="#see"><span>See</span></a></h2><ul><li>FaasBrowserClient.action for how ResponseError is thrown in requests</li><li>ResponseProps for the structure of response data</li><li>setMock for mocking errors in tests</li></ul><h2 id="extends" tabindex="-1"><a class="header-anchor" href="#extends"><span>Extends</span></a></h2><ul><li><code>Error</code></li></ul><h2 id="properties" tabindex="-1"><a class="header-anchor" href="#properties"><span>Properties</span></a></h2><h3 id="body" tabindex="-1"><a class="header-anchor" href="#body"><span>body</span></a></h3><blockquote><p><code>readonly</code> <strong>body</strong>: <code>any</code></p></blockquote><p>The response body containing error details or the original error if available.</p><h3 id="headers" tabindex="-1"><a class="header-anchor" href="#headers"><span>headers</span></a></h3>`,25)),n("blockquote",null,[n("p",null,[s[5]||(s[5]=n("code",null,"readonly",-1)),s[6]||(s[6]=a()),s[7]||(s[7]=n("strong",null,"headers",-1)),s[8]||(s[8]=a(": ",-1)),p(e,{to:"/doc/react/type-aliases/ResponseHeaders.html"},{default:t(()=>[...s[4]||(s[4]=[n("code",null,"ResponseHeaders",-1)])]),_:1})])]),s[10]||(s[10]=o('<p>The response headers from the failed request.</p><h3 id="originalerror" tabindex="-1"><a class="header-anchor" href="#originalerror"><span>originalError?</span></a></h3><blockquote><p><code>readonly</code> <code>optional</code> <strong>originalError</strong>: <code>Error</code></p></blockquote><p>The original Error object if this ResponseError was created from another Error.</p><h3 id="status" tabindex="-1"><a class="header-anchor" href="#status"><span>status</span></a></h3><blockquote><p><code>readonly</code> <strong>status</strong>: <code>number</code></p></blockquote><p>The HTTP status code of the failed response. Defaults to 500 if not provided.</p>',7))])}const v=l(u,[["render",d]]),b=JSON.parse('{"path":"/doc/react/interfaces/ResponseError.html","title":"Interface: ResponseError","lang":"en","frontmatter":{},"git":{},"filePathRelative":"doc/react/interfaces/ResponseError.md"}');export{v as comp,b as data};
