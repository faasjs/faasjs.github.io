import{_ as l,c as i,b as n,d as t,w as p,e as a,a as o,r,o as u}from"./app-Bep3kb_1.js";const c={};function d(k,s){const e=r("RouteLink");return u(),i("div",null,[n("p",null,[t(e,{to:"/doc/browser/"},{default:p(()=>[...s[0]||(s[0]=[a("Documents",-1)])]),_:1}),s[2]||(s[2]=a(" / ",-1)),t(e,{to:"/doc/browser/"},{default:p(()=>[...s[1]||(s[1]=[a("@faasjs/browser",-1)])]),_:1}),s[3]||(s[3]=a(" / MockHandler",-1))]),s[37]||(s[37]=n("h1",{id:"type-alias-mockhandler",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#type-alias-mockhandler"},[n("span",null,"Type Alias: MockHandler()")])],-1)),n("blockquote",null,[n("p",null,[s[5]||(s[5]=n("strong",null,"MockHandler",-1)),s[6]||(s[6]=a(" = (",-1)),s[7]||(s[7]=n("code",null,"action",-1)),s[8]||(s[8]=a(", ",-1)),s[9]||(s[9]=n("code",null,"params",-1)),s[10]||(s[10]=a(", ",-1)),s[11]||(s[11]=n("code",null,"options",-1)),s[12]||(s[12]=a(") => ",-1)),s[13]||(s[13]=n("code",null,"Promise",-1)),s[14]||(s[14]=a("<",-1)),t(e,{to:"/doc/browser/type-aliases/ResponseProps.html"},{default:p(()=>[...s[4]||(s[4]=[n("code",null,"ResponseProps",-1)])]),_:1}),s[15]||(s[15]=a("> | ",-1)),s[16]||(s[16]=n("code",null,"Promise",-1)),s[17]||(s[17]=a("<",-1)),s[18]||(s[18]=n("code",null,"void",-1)),s[19]||(s[19]=a("> | ",-1)),s[20]||(s[20]=n("code",null,"Promise",-1)),s[21]||(s[21]=a("<",-1)),s[22]||(s[22]=n("code",null,"Error",-1)),s[23]||(s[23]=a(">",-1))])]),s[38]||(s[38]=o('<p>Mock handler function type for testing FaasJS requests.</p><p>Defines the signature for functions that can mock API requests during testing. Mock handlers receive request parameters and return simulated responses or errors.</p><h2 id="parameters" tabindex="-1"><a class="header-anchor" href="#parameters"><span>Parameters</span></a></h2><h3 id="action" tabindex="-1"><a class="header-anchor" href="#action"><span>action</span></a></h3><p><code>string</code></p><p>The function path/action being requested (e.g., &#39;user&#39;, &#39;data/list&#39;). Converted to lowercase by the client before being passed to the handler.</p><h3 id="params" tabindex="-1"><a class="header-anchor" href="#params"><span>params</span></a></h3><p>The parameters passed to the action. May be undefined if the action was called without parameters. Parameters are passed as a plain object (already JSON-serialized if needed).</p><p><code>Record</code>&lt;<code>string</code>, <code>any</code>&gt; | <code>undefined</code></p><h3 id="options" tabindex="-1"><a class="header-anchor" href="#options"><span>options</span></a></h3>',10)),n("p",null,[t(e,{to:"/doc/browser/type-aliases/Options.html"},{default:p(()=>[...s[24]||(s[24]=[n("code",null,"Options",-1)])]),_:1})]),s[39]||(s[39]=n("p",null,"The full request options including headers, beforeRequest hook, and other config. Includes X-FaasJS-Request-Id header in the headers object. Contains merged client defaults and per-request options.",-1)),s[40]||(s[40]=n("h2",{id:"returns",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#returns"},[n("span",null,"Returns")])],-1)),n("p",null,[s[26]||(s[26]=n("code",null,"Promise",-1)),s[27]||(s[27]=a("<",-1)),t(e,{to:"/doc/browser/type-aliases/ResponseProps.html"},{default:p(()=>[...s[25]||(s[25]=[n("code",null,"ResponseProps",-1)])]),_:1}),s[28]||(s[28]=a("> | ",-1)),s[29]||(s[29]=n("code",null,"Promise",-1)),s[30]||(s[30]=a("<",-1)),s[31]||(s[31]=n("code",null,"void",-1)),s[32]||(s[32]=a("> | ",-1)),s[33]||(s[33]=n("code",null,"Promise",-1)),s[34]||(s[34]=a("<",-1)),s[35]||(s[35]=n("code",null,"Error",-1)),s[36]||(s[36]=a(">",-1))]),s[41]||(s[41]=o(`<ul><li>A Promise resolving to: <ul><li>ResponseProps: Mock response data (status, headers, body, data)</li><li>void: Returns an empty response (204 No Content)</li><li>Error: Throws ResponseError when returning an Error object</li></ul></li></ul><h2 id="remarks" tabindex="-1"><a class="header-anchor" href="#remarks"><span>Remarks</span></a></h2><ul><li>Used by setMock() function to mock API calls during tests</li><li>Affects all FaasBrowserClient instances when set globally</li><li>Can return different responses based on action or params</li><li>Returning an Error object causes the action() method to reject with ResponseError</li><li>Async function - must return a Promise</li><li>Receives the fully merged options including default headers</li></ul><h2 id="examples" tabindex="-1"><a class="header-anchor" href="#examples"><span>Examples</span></a></h2><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token function">setMock</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span>action<span class="token punctuation">,</span> params<span class="token punctuation">,</span> options<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>action <span class="token operator">===</span> <span class="token string">&#39;user&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token punctuation">{</span></span>
<span class="line">      status<span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span></span>
<span class="line">      data<span class="token operator">:</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> params<span class="token punctuation">.</span>id<span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&#39;Mock User&#39;</span> <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">{</span> status<span class="token operator">:</span> <span class="token number">404</span><span class="token punctuation">,</span> data<span class="token operator">:</span> <span class="token punctuation">{</span> error<span class="token operator">:</span> <span class="token string">&#39;Not found&#39;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token function">setMock</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span>action<span class="token punctuation">,</span> params<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>action <span class="token operator">===</span> <span class="token string">&#39;login&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>params<span class="token punctuation">.</span>email <span class="token operator">===</span> <span class="token string">&#39;admin@example.com&#39;</span> <span class="token operator">&amp;&amp;</span> params<span class="token punctuation">.</span>password <span class="token operator">===</span> <span class="token string">&#39;admin&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">return</span> <span class="token punctuation">{</span> data<span class="token operator">:</span> <span class="token punctuation">{</span> token<span class="token operator">:</span> <span class="token string">&#39;admin-token&#39;</span><span class="token punctuation">,</span> role<span class="token operator">:</span> <span class="token string">&#39;admin&#39;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token punctuation">{</span> status<span class="token operator">:</span> <span class="token number">401</span><span class="token punctuation">,</span> data<span class="token operator">:</span> <span class="token punctuation">{</span> error<span class="token operator">:</span> <span class="token string">&#39;Invalid credentials&#39;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token function">setMock</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span>action<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>action <span class="token operator">===</span> <span class="token string">&#39;protected&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;Unauthorized access&#39;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token comment">// This will be wrapped in ResponseError and thrown</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token function">setMock</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span>action<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>action <span class="token operator">===</span> <span class="token string">&#39;delete&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// Return void for 204 No Content</span></span>
<span class="line">    <span class="token keyword">return</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">{</span> data<span class="token operator">:</span> <span class="token punctuation">{</span> success<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="see" tabindex="-1"><a class="header-anchor" href="#see"><span>See</span></a></h2><ul><li>setMock for setting up mock handlers</li><li>ResponseProps for response structure</li><li>ResponseError for error handling</li></ul>`,10))])}const v=l(c,[["render",d]]),b=JSON.parse('{"path":"/doc/browser/type-aliases/MockHandler.html","title":"Type Alias: MockHandler()","lang":"en","frontmatter":{},"git":{},"filePathRelative":"doc/browser/type-aliases/MockHandler.md"}');export{v as comp,b as data};
